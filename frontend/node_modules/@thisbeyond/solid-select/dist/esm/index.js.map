{"version":3,"file":"index.js","sources":["../../src/create-select.tsx","../../src/fuzzy.tsx","../../src/create-options.tsx","../../src/create-async-options.tsx","../../src/select.tsx"],"sourcesContent":["import {\n  createEffect,\n  createMemo,\n  createSignal,\n  mergeProps,\n  on,\n} from \"solid-js\";\n\ntype Option = any;\n\ntype SingleValue = any;\n\ntype Value = SingleValue | SingleValue[];\n\ninterface CreateSelectProps {\n  options: Option[] | ((inputValue: string) => Option[]);\n  initialValue?: Value;\n  multiple?: boolean;\n  disabled?: boolean;\n  optionToValue?: (option: Option) => SingleValue;\n  isOptionDisabled?: (option: Option) => boolean;\n  onChange?: (value: Value) => void;\n  onInput?: (inputValue: string) => void;\n}\n\nconst createSelect = (props: CreateSelectProps) => {\n  const config = mergeProps(\n    {\n      multiple: false,\n      disabled: false,\n      optionToValue: (option: Option): SingleValue => option,\n      isOptionDisabled: (option: Option) => false,\n    },\n    props\n  );\n\n  const parseValue = (value: Value) => {\n    if (config.multiple && Array.isArray(value)) {\n      return value;\n    } else if (!config.multiple && !Array.isArray(value)) {\n      return value !== null ? [value] : [];\n    } else {\n      throw new Error(\n        `Incompatible value type for ${\n          config.multiple ? \"multple\" : \"single\"\n        } select.`\n      );\n    }\n  };\n\n  const [_value, _setValue] = createSignal(\n    config.initialValue !== undefined ? parseValue(config.initialValue) : []\n  );\n\n  const value = () => (config.multiple ? _value() : _value()[0] || null);\n  const setValue = (value: Value) => _setValue(parseValue(value));\n  const clearValue = () => _setValue([]);\n  const hasValue = () => !!(config.multiple ? value().length : value());\n\n  createEffect(on(_value, () => config.onChange?.(value()), { defer: true }));\n\n  const [inputValue, setInputValue] = createSignal(\"\");\n  const clearInputValue = () => setInputValue(\"\");\n  const hasInputValue = () => !!inputValue().length;\n\n  createEffect(\n    on(inputValue, (inputValue) => config.onInput?.(inputValue), {\n      defer: true,\n    })\n  );\n\n  createEffect(\n    on(\n      inputValue,\n      (inputValue) => {\n        if (inputValue && !isOpen()) {\n          setIsOpen(true);\n        }\n      },\n      { defer: true }\n    )\n  );\n\n  const options =\n    typeof config.options === \"function\"\n      ? createMemo(\n          () => (config.options as Function)(inputValue()),\n          config.options(inputValue())\n        )\n      : () => config.options;\n  const optionsCount = () => options().length;\n\n  const pickOption = (option: Option) => {\n    if (config.isOptionDisabled(option)) return;\n\n    const value = config.optionToValue(option);\n    if (config.multiple) {\n      setValue([..._value(), value]);\n    } else {\n      setValue(value);\n      setIsActive(false);\n    }\n    setIsOpen(false);\n  };\n\n  const [isActive, setIsActive] = createSignal(false);\n  const [isOpen, setIsOpen] = createSignal(false);\n  const toggleOpen = () => setIsOpen(!isOpen());\n\n  const [focusedOptionIndex, setFocusedOptionIndex] = createSignal(-1);\n\n  const focusedOption = () => options()[focusedOptionIndex()];\n  const isOptionFocused = (option: Option) => option === focusedOption();\n\n  const focusOption = (direction: \"next\" | \"previous\") => {\n    if (!optionsCount()) setFocusedOptionIndex(-1);\n\n    const max = optionsCount() - 1;\n    const delta = direction === \"next\" ? 1 : -1;\n    let index = focusedOptionIndex() + delta;\n    if (index > max) {\n      index = 0;\n    }\n    if (index < 0) {\n      index = max;\n    }\n    setFocusedOptionIndex(index);\n  };\n\n  const focusPreviousOption = () => focusOption(\"previous\");\n  const focusNextOption = () => focusOption(\"next\");\n\n  createEffect(\n    on(\n      options,\n      (options) => {\n        if (isOpen()) setFocusedOptionIndex(Math.min(0, options.length - 1));\n      },\n      { defer: true }\n    )\n  );\n\n  createEffect(\n    on(\n      () => config.disabled,\n      (isDisabled) => {\n        if (isDisabled && isOpen()) {\n          setIsOpen(false);\n        }\n      }\n    )\n  );\n\n  createEffect(\n    on(\n      isOpen,\n      (isOpen) => {\n        if (isOpen) {\n          if (focusedOptionIndex() === -1) focusNextOption();\n          setIsActive(true);\n        } else {\n          if (focusedOptionIndex() > -1) setFocusedOptionIndex(-1);\n          setInputValue(\"\");\n        }\n      },\n      { defer: true }\n    )\n  );\n\n  createEffect(\n    on(\n      focusedOptionIndex,\n      (focusedOptionIndex) => {\n        if (focusedOptionIndex > -1 && !isOpen()) {\n          setIsOpen(true);\n        }\n      },\n      { defer: true }\n    )\n  );\n\n  const onFocusIn = () => setIsActive(true);\n  const onFocusOut = () => {\n    setIsActive(false);\n    setIsOpen(false);\n  };\n  const onMouseDown = (event: Event) => event.preventDefault();\n\n  const onClick = (event: Event) => {\n    if (!config.disabled && !hasInputValue()) toggleOpen();\n  };\n\n  const onInput = (event: Event) => {\n    setInputValue((event.target as HTMLInputElement).value);\n  };\n\n  const onKeyDown = (event: KeyboardEvent) => {\n    switch (event.key) {\n      case \"ArrowDown\":\n        focusNextOption();\n        break;\n      case \"ArrowUp\":\n        focusPreviousOption();\n        break;\n      case \"Enter\":\n        if (isOpen() && focusedOption()) {\n          pickOption(focusedOption());\n          break;\n        }\n        return;\n      case \"Escape\":\n        if (isOpen()) {\n          setIsOpen(false);\n          break;\n        }\n        return;\n      case \"Delete\":\n      case \"Backspace\":\n        if (inputValue()) {\n          return;\n        }\n        if (config.multiple) {\n          const currentValue = value() as SingleValue[];\n          setValue([...currentValue.slice(0, -1)]);\n        } else {\n          clearValue();\n        }\n        break;\n      case \" \":\n        if (inputValue()) {\n          return;\n        }\n        if (!isOpen()) {\n          setIsOpen(true);\n        } else {\n          if (focusedOption()) {\n            pickOption(focusedOption());\n          }\n        }\n        break;\n      case \"Tab\":\n        if (focusedOption() && isOpen()) {\n          pickOption(focusedOption());\n          break;\n        }\n        return;\n      default:\n        return;\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  return {\n    options,\n    value,\n    setValue,\n    hasValue,\n    clearValue,\n    inputValue,\n    setInputValue,\n    hasInputValue,\n    clearInputValue,\n    isOpen,\n    setIsOpen,\n    toggleOpen,\n    isActive,\n    setIsActive,\n    get multiple() {\n      return config.multiple;\n    },\n    get disabled() {\n      return config.disabled;\n    },\n    pickOption,\n    isOptionFocused,\n    isOptionDisabled: config.isOptionDisabled,\n    onFocusIn,\n    onFocusOut,\n    onMouseDown,\n    onClick,\n    onInput,\n    onKeyDown,\n  };\n};\n\nexport { createSelect };\nexport type { CreateSelectProps, SingleValue, Value, Option };\n","type FuzzySearchMatch = boolean;\n\ninterface FuzzySearchResult {\n  target: string;\n  score: number;\n  matches: FuzzySearchMatch[];\n}\n\ntype FuzzySortResult = (FuzzySearchResult & {\n  item: any;\n  index: number;\n})[];\n\nconst SCORING = {\n  NO_MATCH: 0,\n  MATCH: 1,\n  WORD_START: 2,\n  START: 3,\n};\n\nconst fuzzySearch = (value: string, target: string): FuzzySearchResult => {\n  let score = SCORING.NO_MATCH;\n  let matches: FuzzySearchMatch[] = [];\n\n  if (value.length <= target.length) {\n    const valueChars = Array.from(value.toLocaleLowerCase());\n    const targetChars = Array.from(target.toLocaleLowerCase());\n    let delta = SCORING.START;\n\n    outer: for (\n      let valueIndex = 0, targetIndex = 0;\n      valueIndex < valueChars.length;\n      valueIndex++\n    ) {\n      while (targetIndex < targetChars.length) {\n        if (targetChars[targetIndex] === valueChars[valueIndex]) {\n          matches[targetIndex] = true;\n\n          if (\n            delta === SCORING.MATCH &&\n            targetChars[targetIndex - 1] === \" \" &&\n            targetChars[targetIndex] !== \" \"\n          ) {\n            delta = SCORING.WORD_START;\n          }\n\n          score += delta;\n          delta++;\n          targetIndex++;\n          continue outer;\n        } else {\n          delta = SCORING.MATCH;\n          targetIndex++;\n        }\n      }\n      // Didn't exhaust search value.\n      score = SCORING.NO_MATCH;\n      matches.length = 0;\n    }\n  }\n\n  return {\n    target,\n    score,\n    matches,\n  };\n};\n\nconst fuzzyHighlight = (\n  searchResult: FuzzySearchResult,\n  highlighter = (match: string) => <mark>{match}</mark>\n) => {\n  const target = searchResult.target;\n  const matches = searchResult.matches;\n  const separator = \"\\x00\";\n\n  const highlighted = [];\n  let open = false;\n\n  for (let index = 0; index < target.length; index++) {\n    const char = target[index];\n    const matched = matches[index];\n    if (!open && matched) {\n      highlighted.push(separator);\n      open = true;\n    } else if (open && !matched) {\n      highlighted.push(separator);\n      open = false;\n    }\n    highlighted.push(char);\n  }\n\n  if (open) {\n    highlighted.push(separator);\n    open = false;\n  }\n\n  return (\n    <>\n      {highlighted\n        .join(\"\")\n        .split(separator)\n        .map((part, index) => (index % 2 ? highlighter(part) : part))}\n    </>\n  );\n};\n\nconst fuzzySort = (\n  value: string,\n  items: any[],\n  key?: string\n): FuzzySortResult => {\n  const sorted = [];\n\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const target = key ? item[key] : item;\n    const result = fuzzySearch(value, target);\n    if (result.score) {\n      sorted.push({ ...result, item, index });\n    }\n  }\n\n  sorted.sort((a, b) => {\n    let delta = b.score - a.score;\n    if (delta === 0) {\n      delta = a.index - b.index;\n    }\n    return delta;\n  });\n\n  return sorted;\n};\n\nexport { fuzzySort, fuzzySearch, fuzzyHighlight };\n","import { JSXElement } from \"solid-js\";\n\nimport { Value } from \"./create-select\";\nimport { fuzzyHighlight, fuzzySort } from \"./fuzzy\";\n\ntype Values = Value[];\n\ninterface Option {\n  label: JSXElement;\n  value: Value;\n  disabled: boolean;\n}\n\ninterface CreateOptionsConfig {\n  key?: string;\n  filterable?: boolean;\n  createable?: boolean | ((inputValue: string) => Value);\n  disable?: (value: Value) => boolean;\n}\n\nconst createOptions = (\n  values: Values | ((inputValue: string) => Values),\n  userConfig?: CreateOptionsConfig\n) => {\n  const config = Object.assign(\n    {\n      filterable: true,\n      disable: () => false,\n    },\n    userConfig || {}\n  );\n\n  const getLabel = (value: Value) =>\n    config?.key !== undefined ? value[config.key] : value;\n\n  const options = (inputValue: string) => {\n    const initialValues =\n      typeof values === \"function\" ? values(inputValue) : values;\n\n    let createdOptions: Option[] = initialValues.map((value) => {\n      return {\n        label: getLabel(value),\n        value: value,\n        disabled: config.disable(value),\n      };\n    });\n\n    if (config.filterable && inputValue) {\n      createdOptions = fuzzySort(inputValue, createdOptions, \"label\").map(\n        (result) => ({\n          ...result.item,\n          label: fuzzyHighlight(result),\n        })\n      );\n    }\n\n    if (config.createable !== undefined) {\n      const trimmedValue = inputValue.trim();\n      const exists = createdOptions.some((option) =>\n        areEqualIgnoringCase(inputValue, getLabel(option.value))\n      );\n\n      if (trimmedValue && !exists) {\n        let value: Value;\n        if (typeof config.createable === \"function\") {\n          value = config.createable(trimmedValue);\n        } else {\n          value = config.key ? { [config.key]: trimmedValue } : trimmedValue;\n        }\n\n        const option = {\n          label: (\n            <>\n              Create <mark>{getLabel(value)}</mark>\n            </>\n          ),\n          value,\n          disabled: false,\n        };\n        createdOptions = [...createdOptions, option];\n      }\n    }\n\n    return createdOptions;\n  };\n\n  const optionToValue = (option: Option) => option.value;\n\n  const format = (item: Option | Value, type: \"option\" | \"value\") =>\n    type === \"option\" ? item.label : getLabel(item);\n\n  const isOptionDisabled = (option: Option) => option.disabled;\n\n  return {\n    options,\n    optionToValue,\n    isOptionDisabled,\n    format,\n  };\n};\n\nconst areEqualIgnoringCase = (firstString: string, secondString: string) =>\n  firstString.localeCompare(secondString, undefined, {\n    sensitivity: \"base\",\n  }) === 0;\n\nexport { createOptions };\n","import { createSignal, createResource, getOwner, onCleanup } from \"solid-js\";\n\nimport { Option } from \"./create-select\";\n\nconst createAsyncOptions = (\n  fetcher: (inputValue: string) => Promise<Option[]>,\n  timeout = 250\n) => {\n  const [inputValue, setInputValue] = createSignal(\"\");\n  const throttledFetcher = throttle(fetcher, timeout);\n  const [asyncOptions] = createResource(inputValue, throttledFetcher, {\n    initialValue: [],\n  });\n\n  return {\n    get options() {\n      return asyncOptions();\n    },\n    get loading() {\n      return asyncOptions.loading;\n    },\n    onInput: setInputValue,\n    readonly: false,\n  };\n};\n\nconst throttle = (\n  callback: (...args: any[]) => Promise<unknown>,\n  threshold: number\n) => {\n  let activePromise: Promise<unknown> | null = null,\n    timeoutId: ReturnType<typeof setTimeout>,\n    lastArgs: Parameters<typeof callback>;\n\n  const wait = () =>\n    new Promise((resolve) => (timeoutId = setTimeout(resolve, threshold)));\n\n  const throttled: typeof callback = (...args) => {\n    lastArgs = args;\n    if (activePromise) return activePromise;\n    activePromise = wait().then(() => {\n      activePromise = null;\n      return callback(...lastArgs);\n    });\n\n    return activePromise;\n  };\n\n  const clear = () => {\n    clearTimeout(timeoutId);\n    activePromise = null;\n  };\n\n  if (getOwner()) onCleanup(clear);\n\n  return Object.assign(throttled, { clear });\n};\n\nexport { createAsyncOptions };\n","import {\n  Show,\n  For,\n  splitProps,\n  mergeProps,\n  Component,\n  ParentComponent,\n  createEffect,\n  on,\n  createContext,\n  useContext,\n} from \"solid-js\";\nimport {\n  createSelect,\n  Option as OptionType,\n  Value as ValueType,\n  CreateSelectProps,\n} from \"./create-select\";\n\ninterface CommonProps {\n  format: (\n    data: OptionType | ValueType,\n    type: \"option\" | \"value\"\n  ) => string | undefined;\n  placeholder?: string;\n  id?: string;\n  name?: string;\n  class?: string;\n  autofocus?: boolean;\n  readonly?: boolean;\n  loading?: boolean;\n  loadingPlaceholder?: string;\n  emptyPlaceholder?: string;\n}\n\ntype SelectReturn = ReturnType<typeof createSelect>;\n\ntype SelectProps = CreateSelectProps & Partial<CommonProps>;\n\nconst SelectContext = createContext<SelectReturn>();\n\nconst useSelect = () => {\n  const context = useContext(SelectContext);\n  if (!context) throw new Error(\"No SelectContext found in ancestry.\");\n  return context;\n};\n\nconst Select: Component<SelectProps> = (props) => {\n  const [selectProps, local] = splitProps(\n    mergeProps(\n      {\n        format: ((data, type) => data) as CommonProps[\"format\"],\n        placeholder: \"Select...\",\n        readonly: typeof props.options !== \"function\",\n        loading: false,\n        loadingPlaceholder: \"Loading...\",\n        emptyPlaceholder: \"No options\",\n      },\n      props\n    ),\n    [\n      \"options\",\n      \"optionToValue\",\n      \"isOptionDisabled\",\n      \"multiple\",\n      \"disabled\",\n      \"onInput\",\n      \"onChange\",\n    ]\n  );\n  const select = createSelect(selectProps);\n\n  createEffect(\n    on(\n      () => local.initialValue,\n      (value) => value !== undefined && select.setValue(value)\n    )\n  );\n\n  return (\n    <SelectContext.Provider value={select}>\n      <Container class={local.class}>\n        <Control\n          id={local.id}\n          name={local.name}\n          format={local.format}\n          placeholder={local.placeholder}\n          autofocus={local.autofocus}\n          readonly={local.readonly}\n        />\n        <List\n          loading={local.loading}\n          loadingPlaceholder={local.loadingPlaceholder}\n          emptyPlaceholder={local.emptyPlaceholder}\n          format={local.format}\n        />\n      </Container>\n    </SelectContext.Provider>\n  );\n};\n\ntype ContainerProps = Pick<CommonProps, \"class\">;\n\nconst Container: ParentComponent<ContainerProps> = (props) => {\n  const select = useSelect();\n  return (\n    <div\n      class={`solid-select-container ${\n        props.class !== undefined ? props.class : \"\"\n      }`}\n      data-disabled={select.disabled}\n      onFocusIn={select.onFocusIn}\n      onFocusOut={select.onFocusOut}\n      onMouseDown={(event) => {\n        select.onMouseDown(event);\n        event.currentTarget.getElementsByTagName(\"input\")[0].focus();\n      }}\n    >\n      {props.children}\n    </div>\n  );\n};\n\ntype ControlProps = Omit<CommonProps, \"class\">;\n\nconst Control: Component<ControlProps> = (props) => {\n  const select = useSelect();\n\n  const removeValue = (index: number) => {\n    const value = select.value();\n    select.setValue([...value.slice(0, index), ...value.slice(index + 1)]);\n  };\n\n  return (\n    <div\n      class=\"solid-select-control\"\n      data-multiple={select.multiple}\n      data-has-value={select.hasValue()}\n      data-disabled={select.disabled}\n      onClick={select.onClick}\n    >\n      <Show when={!select.hasValue() && !select.hasInputValue()}>\n        <Placeholder>{props.placeholder}</Placeholder>\n      </Show>\n      <Show\n        when={select.hasValue() && !select.multiple && !select.hasInputValue()}\n      >\n        <SingleValue>{props.format(select.value(), \"value\")}</SingleValue>\n      </Show>\n      <Show when={select.hasValue() && select.multiple}>\n        <For each={select.value()}>\n          {(value, index) => (\n            <MultiValue onRemove={() => removeValue(index())}>\n              {props.format(value, \"value\")}\n            </MultiValue>\n          )}\n        </For>\n      </Show>\n      <Input\n        id={props.id}\n        name={props.name}\n        autofocus={props.autofocus}\n        readonly={props.readonly}\n      />\n    </div>\n  );\n};\n\ntype PlaceholderProps = Pick<CommonProps, \"placeholder\">;\n\nconst Placeholder: ParentComponent<PlaceholderProps> = (props) => {\n  return <div class=\"solid-select-placeholder\">{props.children}</div>;\n};\n\nconst SingleValue: ParentComponent<{}> = (props) => {\n  return <div class=\"solid-select-single-value\">{props.children}</div>;\n};\n\nconst MultiValue: ParentComponent<{ onRemove: () => void }> = (props) => {\n  const select = useSelect();\n\n  return (\n    <div class=\"solid-select-multi-value\">\n      {props.children}\n      <button\n        type=\"button\"\n        class=\"solid-select-multi-value-remove\"\n        onClick={(event: MouseEvent) => {\n          event.stopPropagation();\n          props.onRemove();\n        }}\n      >\n        ⨯\n      </button>\n    </div>\n  );\n};\n\ntype InputProps = Pick<CommonProps, \"id\" | \"name\" | \"autofocus\" | \"readonly\">;\n\nconst Input: Component<InputProps> = (props) => {\n  const select = useSelect();\n  return (\n    <input\n      id={props.id}\n      name={props.name}\n      class=\"solid-select-input\"\n      data-multiple={select.multiple}\n      data-is-active={select.isActive()}\n      type=\"text\"\n      tabIndex={0}\n      autocomplete=\"off\"\n      autocapitalize=\"none\"\n      autofocus={props.autofocus}\n      readonly={props.readonly}\n      disabled={select.disabled}\n      size={1}\n      value={select.inputValue()}\n      onInput={select.onInput}\n      onKeyDown={(event: KeyboardEvent) => {\n        select.onKeyDown(event);\n        if (!event.defaultPrevented) {\n          if (event.key === \"Escape\") {\n            event.preventDefault();\n            event.stopPropagation();\n            (event.target as HTMLElement).blur();\n          }\n        }\n      }}\n      onMouseDown={(event) => {\n        event.stopPropagation();\n      }}\n    />\n  );\n};\n\ntype ListProps = Pick<\n  CommonProps,\n  \"loading\" | \"loadingPlaceholder\" | \"emptyPlaceholder\" | \"format\"\n>;\n\nconst List: Component<ListProps> = (props) => {\n  const select = useSelect();\n\n  return (\n    <Show when={select.isOpen()}>\n      <div class=\"solid-select-list\">\n        <Show\n          when={!props.loading}\n          fallback={\n            <div class=\"solid-select-list-placeholder\">\n              {props.loadingPlaceholder}\n            </div>\n          }\n        >\n          <For\n            each={select.options()}\n            fallback={\n              <div class=\"solid-select-list-placeholder\">\n                {props.emptyPlaceholder}\n              </div>\n            }\n          >\n            {(option: OptionType) => (\n              <Option option={option}>{props.format(option, \"option\")}</Option>\n            )}\n          </For>\n        </Show>\n      </div>\n    </Show>\n  );\n};\n\ntype OptionProps = {\n  option: OptionType;\n};\n\nconst Option: ParentComponent<OptionProps> = (props) => {\n  const select = useSelect();\n\n  const scrollIntoViewOnFocus = (element: HTMLDivElement) => {\n    createEffect(() => {\n      if (select.isOptionFocused(props.option)) {\n        element.scrollIntoView({ block: \"nearest\" });\n      }\n    });\n  };\n  return (\n    <div\n      ref={scrollIntoViewOnFocus}\n      data-disabled={select.isOptionDisabled(props.option)}\n      data-focused={select.isOptionFocused(props.option)}\n      class=\"solid-select-option\"\n      onClick={() => select.pickOption(props.option)}\n    >\n      {props.children}\n    </div>\n  );\n};\n\nexport {\n  Select,\n  Container,\n  Control,\n  Placeholder,\n  SingleValue,\n  MultiValue,\n  Input,\n  List,\n  Option,\n  SelectContext,\n  useSelect,\n};\n"],"names":["createSelect","props","config","mergeProps","multiple","disabled","optionToValue","option","isOptionDisabled","parseValue","value","Array","isArray","Error","_value","_setValue","createSignal","initialValue","undefined","setValue","clearValue","hasValue","length","createEffect","on","onChange","defer","inputValue","setInputValue","clearInputValue","hasInputValue","onInput","isOpen","setIsOpen","options","createMemo","optionsCount","pickOption","setIsActive","isActive","toggleOpen","focusedOptionIndex","setFocusedOptionIndex","focusedOption","isOptionFocused","focusOption","direction","max","delta","index","focusPreviousOption","focusNextOption","Math","min","isDisabled","onFocusIn","onFocusOut","onMouseDown","event","preventDefault","onClick","target","onKeyDown","key","currentValue","slice","stopPropagation","SCORING","NO_MATCH","MATCH","WORD_START","START","fuzzySearch","score","matches","valueChars","from","toLocaleLowerCase","targetChars","outer","valueIndex","targetIndex","fuzzyHighlight","searchResult","highlighter","match","_tmpl$","_$insert","separator","highlighted","open","char","matched","push","join","split","map","part","fuzzySort","items","sorted","item","result","sort","a","b","createOptions","values","userConfig","Object","assign","filterable","disable","getLabel","initialValues","createdOptions","label","createable","trimmedValue","trim","exists","some","areEqualIgnoringCase","format","type","firstString","secondString","localeCompare","sensitivity","createAsyncOptions","fetcher","timeout","throttledFetcher","throttle","asyncOptions","createResource","loading","readonly","callback","threshold","activePromise","timeoutId","lastArgs","wait","Promise","resolve","setTimeout","throttled","args","then","clear","clearTimeout","getOwner","onCleanup","SelectContext","createContext","useSelect","context","useContext","Select","selectProps","local","splitProps","data","placeholder","loadingPlaceholder","emptyPlaceholder","select","_$createComponent","class","id","name","autofocus","Container","currentTarget","getElementsByTagName","focus","_$addEventListener","children","_$effect","_$className","_$setAttribute","Control","removeValue","_$memo","Placeholder","SingleValue","MultiValue","onRemove","Input","defaultPrevented","blur","List","Option","scrollIntoViewOnFocus","element","scrollIntoView","block"],"mappings":"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"}